<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <title>Document</title>
</head>
<body>
    <!-- Button trigger modal -->
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">
   Ajouter
</button>
  
  <!-- Modal -->
  <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Enregistrer</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
<form action="" method="POST">
                <input type="hidden" >
                <input type="text" placeholder="nom" name="nom" ><br><br>
                <input type="text" name="prenom" placeholder="prenom" ><br><br>
                <input type="text" name="genre" placeholder="genre" ><br><br>
         
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">fermer</button>
          <button type="submit" class="btn btn-success">enregistrer</button>
        </div>
</form>
      </div>
    </div>
  </div>

    <!-- Button trigger modal -->

  
  <!-- modification -->
  <div class="modal fade" id="modifier" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">modifier</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <form action="" method="POST">
                <input type="hidden" id="id">
                <input type="text" placeholder="nom" name="nom" id="nom"><br><br>
                <input type="text" name="prenom" placeholder="prenom" id="prenom"><br><br>
                <input type="text" name="genre" placeholder="genre" id="genre"><br><br>
                
           
            
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">fermer</button>
          <button type="submit" class="btn btn-warning">modifier</button>
        </div>
    </form>
      </div>
    </div>
  </div>
    <table id="example" class="table table-striped table-bordered" style="width:100%">
        <thead>
            <tr>
                <th>Nom</th>
                <th>Prenom</th>
                <th>genre</th>
                <th>modifier</th>
                <th>supprimer</th>
                
                
                
              
                
            </tr>
        </thead>
        <tbody>
           <% for(i=0; i<nenin.length;i++){ %> 

           
            <tr>
                <td> <%= nenin[i].nom %> </td>
                <td><%= nenin[i].prenom %></td>
                <td><%if(nenin[i].genre == 'F'){%>
                    <img src="/images/images.png" alt="photo" width="20" height="20">
                    <%}else if(nenin[i].genre == 'G'){ %>
                    <img src="/images/homme.png" alt="photo" width="20" height="20">
                    <%}else{ %>
                        <img src="/images/autre.png" alt="photo" width="20" height="20">
                    <% 
                    }
                    %>
                    </td>

                    <td> 
                          <!-- Button trigger modal -->
                        <button class="btn btn-warning" data-toggle="modal" data-target="#modifier" onclick="recuperer('<%= nenin[i].id%> ', '<%= nenin[i].nom%>' ,'<%= nenin[i].prenom%>' ,'<%= nenin[i].genre%>') ">
                          modifier
                        </button></td>
                    <td><a href="/edit?id=<%= nenin[i].id %>" onclick="return confirm('Etes-vous sÃ»r de vouloir supprimer?')">supprimer</a></td>

                    
                
                
            </tr>
           <% } %> 
            </tbody>
      
      </table>
      <!-- <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
      <script src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"></script>
      <script src="https://cdn.datatables.net/1.13.1/js/dataTables.bootstrap4.min.js"></script> -->
      <script>
        $(document).ready(function () {
        $('#example').DataTable();
    });
     </script>
     <script>
        function recuperer(id, nom, prenom, genre) {
            document.getElementById('id').value = id;
            document.getElementById('nom').value = nom;
            document.getElementById('prenom').value = prenom;
            document.getElementById('genre').value = genre;
        }
     </script>
</body>
</html>